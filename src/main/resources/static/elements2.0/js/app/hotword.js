var F_Hot_Entrance={_init:function(){B_Login._checkUpdate(),M_HeadFoot._headShow(2),M_Dom._menuList("舆情分析","3-1-2"),M_Game._htmlGameVisitHide("outsideHotWord"),B_User._isDemoUser()?B_Login._openLogin("background"):(M_Init._clean(),M_Init._gameId=M_Init._getGameId("outsideHotWord"),B_Game._dropChoose(M_Init._gameId,"#gameDropChoose",null,function(t){t+""!=M_Init._gameId+""&&(B_Game._setLast(t,"outsideHotWord"),M_Init._gameId=t,F_Hot_Info._getChartInfo())}),B_Date._chooseSection({autoCommit:!0,todayValid:!1,minValidDate:M_Init._dateChoose.beginLimit},1,M_Init._dateChoose.begin,M_Init._dateChoose.end,function(t,e){t==M_Init._dateCache.begin&&M_Init._dateCache.end==e||(M_Init._dateCache.begin=t,M_Init._dateCache.end=e,F_Hot_Info._getChartInfo())}))}},F_Hot_Info={_getFromChartClick:function(t,e){t==M_ForumList._postData.data.begin&&e==M_ForumList._postData.data.word||(M_ForumList._postData.data={begin:t,end:t,word:e},M_ForumList._getList(1))},_getChartInfo:function(t){B_Pop._init("load",{type:1,time:60,shade:[.6,"#000000"]});var e=M_Init._dateCache.begin,o=M_Init._dateCache.end,a={};a.data_date_start=e,a.data_date_end=o,a.project_id=M_Init._gameId,a=B_Common._postData(a),B_Port._ajax("hotWordTrend","get",!0,a,function(){$("#bs_hotwrod_tread").html(B_Pre._loading())},function(){B_Pop._init("close"),$("#bs_hotwrod_tread").html("")},function(a,n){if(a){var i=B_Date._dateArray(e,o),_={},r={xAxis:[],word:{},series:[],legend:[]},d={begin:"",end:"",word:""};$.each(a,function(t,e){if(r.word[t]={date:[],number:[]},e)for(var o=0;o<e.length;o++){var a=B_Date._dateFormat("base",e[o][0]);r.word[t].date.push(a),r.word[t].number.push(e[o][1])}});var s=1;switch(M_Init._dataCache.word=[],$.each(r.word,function(t,e){M_Init._dataCache.word.push(t),r.legend.push(t);var o={lineStyle:{normal:{width:2}},smooth:!0,symbol:"roundRect",symbolSize:8,name:t,type:"line",data:[]};$.each(i,function(a,n){1==s&&r.xAxis.push(n.big);var i=$.inArray(n.big,e.date);i>-1?(""==d.word&&e.number[i]>0&&(d.word=t,d.begin=n.big,d.end=n.big),o.data.push(e.number[i])):o.data.push(0)}),r.series.push(o),s++}),_.tooltip={trigger:"axis"},_.legend={itemGap:15,itemWidth:12,itemHeight:12,top:"bottom",align:"left",data:r.legend,textStyle:{fontSize:12}},_.grid={left:"2%",right:"2%",bottom:"8%",top:"3%",containLabel:!0},_.xAxis=[{splitLine:{lineStyle:{color:"#EEEEEE"}},type:"category",data:r.xAxis,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#333333",fontSize:"11px"},formatter:function(t,e){return B_Date._dateChart(t)}}}],_.yAxis=[{splitLine:{lineStyle:{color:"#EEEEEE"}},name:"帖子数",type:"value",nameLocation:"middle",nameTextStyle:{color:"#C2C2C2",fontSize:"11px"},nameGap:30,axisLine:{show:!1},axisTick:{show:!1},axisLabel:{textStyle:{color:"#333333",fontSize:"11px"}}}],_.series=r.series,B_Chart._getEChart("line","bs_hotwrod_tread",_),t){case"alter":break;default:$(".hot-filter-list").html(F_Hot_Info._htmlWords()),F_Hot_Info._btnClickChangeWord()}""==d.word?$(".left-list").html(B_Pre._empty("当前日期暂无数据")):(M_ForumList._postData.type="keyword",M_ForumList._postData.data=d,M_ForumList._getList(1))}},function(t,e,o){$("#bs_hotwrod_tread").html(B_Pre._empty(e))})},_btnClickChangeWord:function(){$(".hot-filter-list .tg-main-btn").click(function(){var t=[],e=!1;if($('input[name="word"]').each(function(){var o=$.trim($(this).val());""!=o&&(o.length>6&&(e=!0),o=B_Format._blankRemove(o),t.push(o))}),e)return B_Pop._init("msg",{content:"请输入不多于6个字的热词"}),!1;if(0==t.length)return B_Pop._init("msg",{content:"监控热词不能为空"}),!1;var o=!1;if(M_Init._dataCache.word.length==t.length)for(var a=0;a<t.length;a++)$.inArray(t[a],M_Init._dataCache.word)>-1||(o=!0);else o=!0;if(!o)return B_Pop._init("msg",{content:"请修改监控热词"}),!1;var n={};n.custom_keywords=t.join(" "),n.project_id=M_Init._gameId,n=B_Common._postData(n),F_Hot_Info._doWordUpdate(n)})},_doWordUpdate:function(t){B_Port._ajax("insertCustomKeywords","post",!0,t,function(){B_Common._btnTextStatus("disable",$(".hot-filter-list .tg-main-btn"),{disable:"修改中..."})},function(){B_Common._btnTextStatus("normal",$(".hot-filter-list .tg-main-btn"),{normal:"修改"})},function(t,e){B_Pop._init("msg",{content:"修改成功"}),setTimeout(function(){F_Hot_Info._getChartInfo("alter")},1e3)},function(t,e,o){B_Pop._init("msg",{content:B_Pre._empty(e)})})},_htmlWords:function(){for(var t="<p>选择监测热词</p>",e=0;e<5;e++){var o=M_Init._dataCache.word[e]?M_Init._dataCache.word[e]:"";t+='<li><input class="tg-input" type="text" name="word" placeholder="热词'+(e+1)+'" maxlength="20" value="'+o+'"></li>'}return t+='<li><a class="tg-main-btn">修改</a></li>'}};