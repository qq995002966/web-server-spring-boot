var F_FaceCompare_Entrance={_init:function(a){if(B_Login._checkUpdate(),M_HeadFoot._headShow(2),M_Dom._menuList("游戏详情","7-9-3"),B_User._isDemoUser())B_Login._openLogin("background");else{M_Init._clean();var e=B_Common._getUrl("query");e.g?(M_Init._gameDetailId=e.g,B_Game._setLast(M_Init._gameDetailId,"outsideGameDetail")):a?(M_Init._gameDetailId=a,B_Game._setLast(M_Init._gameDetailId,"outsideGameDetail")):M_Init._gameDetailId||(M_Init._gameDetailId=M_Init._getGameId("outsideGameDetail")),M_Init._gameIdRight=M_Init._getGameId("gameFaceCompareRight"),B_Game._dropChoose(M_Init._gameIdRight,"#gameDropChooseRight",null,function(a){a+""!=M_Init._gameIdRight+""&&(B_Game._setLast(a,"gameFaceCompareRight"),M_Init._gameIdRight=a,F_FaceCompare_Info._getUnion(3))}),M_Game._checkGameVisitList("gameFaceCompare"),$("#changeTagZone2").click(function(){F_Face_Common._changeTagOpen(2)}),$("#changeTagZone3").click(function(){F_Face_Common._changeTagOpen(3)}),F_Face_Common._cache.data[2].refresh=!0,F_Face_Common._cache.data[3].refresh=!0,$("#tab_forum_li ul li").each(function(a){$(this).click(function(){if(!$(this).hasClass("tg-tab-btn-selected"))switch($(this).addClass("tg-tab-btn-selected").siblings().removeClass("tg-tab-btn-selected"),a+""){case"0":F_Face_Html._htmlList(2,$("#str_attention_forum_left"),F_Face_Common._cache.data[2].buff.attention_forum_distri),F_Face_Html._htmlList(3,$("#str_attention_forum_right"),F_Face_Common._cache.data[3].buff.attention_forum_distri);break;case"1":F_Face_Html._htmlList(2,$("#str_attention_forum_left"),F_Face_Common._cache.data[2].buff.attention_game_forum_distri),F_Face_Html._htmlList(3,$("#str_attention_forum_right"),F_Face_Common._cache.data[3].buff.attention_game_forum_distri)}})}),$("#tab_message_li ul li").each(function(a){$(this).click(function(){if(!$(this).hasClass("tg-tab-btn-selected"))switch($(this).addClass("tg-tab-btn-selected").siblings().removeClass("tg-tab-btn-selected"),a+""){case"0":F_Face_Html._chartLine(F_FaceCompare_Info._compareName,"chart_title_num_compare",{left:F_Face_Common._cache.data[2].buff.title_num_distri,right:F_Face_Common._cache.data[3].buff.title_num_distri});break;case"1":F_Face_Html._chartLine(F_FaceCompare_Info._compareName,"chart_title_num_compare",{left:F_Face_Common._cache.data[2].buff.content_num_distri,right:F_Face_Common._cache.data[3].buff.content_num_distri});break;case"2":F_Face_Html._chartLine(F_FaceCompare_Info._compareName,"chart_title_num_compare",{left:F_Face_Common._cache.data[2].buff.be_replied_num_distri,right:F_Face_Common._cache.data[3].buff.be_replied_num_distri})}})}),$("#tab_age_li ul li").each(function(a){$(this).click(function(){switch($(this).addClass("tg-tab-btn-selected").siblings().removeClass("tg-tab-btn-selected"),a+""){case"0":F_Face_Html._chartBar(F_FaceCompare_Info._compareName,"chart_tieba_age_compare",{left:F_Face_Common._cache.data[2].buff.tieba_age_distri,right:F_Face_Common._cache.data[3].buff.tieba_age_distri});break;case"1":F_Face_Html._chartBar(F_FaceCompare_Info._compareName,"chart_tieba_age_compare",{left:F_Face_Common._cache.data[2].buff.fans_num_distri,right:F_Face_Common._cache.data[3].buff.fans_num_distri})}})})}}},F_FaceCompare_Info={_getUnion:function(a){var e=F_Face_Common._postData(a);return e?void F_FaceCompare_Info._getInfo(a,e):(F_Face_Common._cache.data[a].refresh&&($("#changeTagZone"+a+" span").html(F_Face_Common._cache.data[a].choose).attr("title",F_Face_Common._cache.data[a].choose),F_Face_Common._cache.data[a].refresh=!1,F_FaceCompare_Info._setInfo()),!1)},_getInfo:function(a,e){B_Port._ajax("faceProfileCustomer","post",!0,e,function(){F_Face_Common._cache.data[a].buff="",B_Pop._init("load",{type:1,time:60,shade:[.6,"#000000"]})},function(){B_Pop._init("close")},function(e,t){F_Face_Common._cache.data[a].buff=e,F_FaceCompare_Info._setInfo()},function(a,e,t){B_Pop._init("msg",{content:e})})},_setInfo:function(){F_Face_Common._cache.data[2].buff&&F_Face_Common._cache.data[3].buff&&(F_FaceCompare_Info._identity(2),F_FaceCompare_Info._identity(3),$("#tab_message_li ul li").eq(0).addClass("tg-tab-btn-selected").siblings().removeClass("tg-tab-btn-selected"),$("#tab_age_li ul li").eq(0).addClass("tg-tab-btn-selected").siblings().removeClass("tg-tab-btn-selected"),F_FaceCompare_Info._htmlGender($("#lt_gender_compare"),F_Face_Common._cache.data[2].buff.sex_distri,F_Face_Common._cache.data[3].buff.sex_distri),F_FaceCompare_Info._htmlInteresting($("#lt_item_list"),F_Face_Common._cache.data[2].buff.interest_classify_distri,F_Face_Common._cache.data[3].buff.interest_classify_distri),F_Face_Html._htmlList(2,$("#str_attention_forum_left"),F_Face_Common._cache.data[2].buff.attention_forum_distri),F_Face_Html._htmlList(3,$("#str_attention_forum_right"),F_Face_Common._cache.data[3].buff.attention_forum_distri),F_Face_Html._chartLine(F_FaceCompare_Info._compareName,"chart_post_hour_compare",{left:F_Face_Common._cache.data[2].buff.post_hour_distri,right:F_Face_Common._cache.data[3].buff.post_hour_distri}),F_Face_Html._chartLine(F_FaceCompare_Info._compareName,"chart_title_num_compare",{left:F_Face_Common._cache.data[2].buff.title_num_distri,right:F_Face_Common._cache.data[3].buff.title_num_distri}),F_Face_Html._chartBar(F_FaceCompare_Info._compareName,"chart_tieba_age_compare",{left:F_Face_Common._cache.data[2].buff.tieba_age_distri,right:F_Face_Common._cache.data[3].buff.tieba_age_distri}))},_compareName:["",""],_htmlInteresting:function(a,e,t){for(var _="",c=[],i=0,o=0,n=0,s=0,m="",r="",l=0,f={},F={},l=0;l<e.length;l++)$.each(e[l],function(a,e){f[a]=e});for(var l=0;l<t.length;l++)$.each(t[l],function(a,e){F[a]=e});$.each(f,function(a,e){$.inArray(a,c)<0&&c.push(a),i+=parseInt(e)}),$.each(F,function(a,e){$.inArray(a,c)<0&&c.push(a),o+=parseInt(e)}),$.each(c,function(a,e){"undefined"==typeof f[e]?(m=0,n=0):(m=f[e],n=0==i?0:(parseInt(m)/i*100).toFixed(1)),"undefined"==typeof F[e]?(r=0,s=0):(r=F[e],s=0==o?0:(parseInt(r)/o*100).toFixed(1)),_+=F_FaceCompare_Info._htmlLineCompare(e,n,s,m,r),l++}),a.html(_)},_htmlLineCompare:function(a,e,t,_,c){var i=2*parseFloat(e);i>100&&(i=100);var o=2*parseFloat(t);o>100&&(o=100);var n="";return n='            <ul class="contrast-list">                <li class="word-des">'+a+'</li>                <li class="percent">                <span>'+e+'%</span>                <span class="fr">'+t+'%</span>                </li>                <li class="des">                <span>共'+_+'人关注</span>                <span class="fr">共'+c+'人关注</span>                </li>                <li class="line">                <div class="line-bg fl">                <div class="left-percent" style="width: '+i+'%"></div>                </div>                <div class="line-bg fr">                <div class="right-percent" style="width: '+o+'%"></div>                </div>                </li>            </ul>'},_htmlGender:function(a,e,t){for(var _="",c={},i={},o=0,n=0,s=0,m=0,r=0,l=0,f=0;f<e.length;f++)$.each(e[f],function(a,e){c[a]=e});for(var f=0;f<t.length;f++)$.each(t[f],function(a,e){i[a]=e});$.each(c,function(a,e){switch(a){case"男":s=parseInt(e);break;case"女":r=parseInt(e)}}),$.each(i,function(a,e){switch(a){case"男":m=parseInt(e);break;case"女":l=parseInt(e)}}),o=s+r,o>0&&(s=(s/o*100).toFixed(0),r=100-s),n=m+l,n>0&&(m=(m/n*100).toFixed(0),l=100-m),_+=F_FaceCompare_Info._htmlGenderCompare(s,r,m,l),a.html(_)},_htmlGenderCompare:function(a,e,t,_){var c='            <div class="man-percent">                <ul class="fl">                    <li><i class="graph-icon"></i></li>                    <li>                    <p>男性玩家占比</p>                    <b>'+a+'%</b>                    <p>占全部玩家的</p>                    </li>                    <li class="color" style="width: '+(100*(a/100)).toFixed(1)+'px">                    </li>                    </ul>                    <ul class="fr">                    <li class="color" style="width: '+(100*(t/100)).toFixed(1)+'px">                    </li>                    <li><i class="graph-icon"></i></li>                    <li class="fr">                    <p>男性玩家占比</p>                    <b>'+t+'%</b>                    <p>占全部玩家的</p>                    </li>                </ul>            </div>            <div class="woman-percent">                <ul class="fl">                    <li><i class="graph-icon"></i></li>                    <li>                    <p>女性玩家占比</p>                    <b>'+e+'%</b>                    <p>占全部玩家的</p>                    </li>                    <li class="color" style="width: '+(100*(e/100)).toFixed(1)+'px">                    </li>                    </ul>                    <ul class="fr">                    <li class="color" style="width: '+(100*(_/100)).toFixed(1)+'px">                    </li>                    <li><i class="graph-icon"></i></li>                    <li class="fr">                    <p>女性玩家占比</p>                    <b>'+_+"%</b>                    <p>占全部玩家的</p>                    </li>                </ul>            </div>";return c},_identity:function(a){switch(a+""){case"2":F_FaceCompare_Info._compareName[0]="追踪群体";for(var e=1;e<4;e++)$("#leftNotice"+e).html("<i></i>追踪群体");break;case"3":F_FaceCompare_Info._compareName[1]="对照群体";for(var e=1;e<4;e++)$("#rightNotice"+e).html("<i></i>对照群体")}}};