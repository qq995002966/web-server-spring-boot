require(["frontmain"],function(){require(["jquery","layer","base","front","app/inside","store.min"],function(){store=require("store.min"),B_Login._checkUpdate();var t={_htmlOk:function(){var t="";t+='<div class="open_ok_img"></div>',t+='<div class="open_ok_text">感谢您申请ThinkingGame智能运营平台产品演示<br>我们将在<span>2个工作日</span>内与您取得进一步联系</div>',t+='<div class="open_ok_btn"><button type="button" class="btn btn-info blue-button">返回</button> <button type="button" class="btn btn-default gray-button">在线客服</button></div>',$("#open_s").html(t),$(".blue-button").click(function(){parent.B_Pop._init("close")}),$(".gray-button").click(function(){B_Jump._go("openUrl",B_Common._qqUrl())})},_htmlInit:function(){var n={company_type:0,job_type:0,company_name:"",real_name:"",email:"",project_names:"",mobile:""};if(B_Login._user&&B_Login._user.user){var e=B_Login._user.user;n.company_type=e.company_type,n.job_type=e.job_type,n.company_name=e.company_name,n.real_name=e.real_name,n.email=e.email,n.project_names=e.project_names,n.mobile=e.mobile}var o="";o+='<dl><dt>* 公司名称：</dt><dd><input type="text" name="user_company" placeholder="您当前就职的公司" maxlength="32" value="'+n.company_name+'"></dd></dl>',o+="<dl><dt>* 公司类型：</dt><dd>",o+='<div id="selectWrap"><div id="bs_company_type" class="dropDown tg-selected-drop">',o+=B_User._information.companyArr[n.company_type]?'<p><span data-i="'+n.company_type+'">'+B_User._information.companyArr[n.company_type]+'</span><i class="drop-icon"></i></p>':'<p><span data-i="">请选择公司类型</span><i class="drop-icon"></i></p>',o+='<ul class="b_none">'+t._htmlSelect(B_User._information.companyArr)+"</ul></div></div>",o+="</dd></dl>",o+='<dl><dt>* 联系人：</dt><dd><input type="text" name="user_name" placeholder="请输入您的真实姓名" maxlength="16" value="'+n.real_name+'"></dd></dl>',o+='<dl><dt>* 手机号码：</dt><dd><input type="text" name="user_phone" placeholder="请填写能联系到您的手机号码" maxlength="11" value="'+n.mobile+'"></dd></dl>',o+='<dl><dt>* 公司邮箱：</dt><dd><input type="text" name="user_email" placeholder="请填写您在公司使用的公司邮箱" maxlength="64" value="'+n.email+'"></dd></dl>',o+="<dl><dt>* 公司职位：</dt><dd>",o+='<div id="selectWrap"><div id="bs_job_type" class="dropDown tg-selected-drop">',o+=B_User._information.jobArr[n.job_type]?'<p><span data-i="'+n.job_type+'">'+B_User._information.jobArr[n.job_type]+'</span><i class="drop-icon"></i></p>':'<p><span data-i="">请选择公司职位</span><i class="drop-icon"></i></p>',o+='<ul class="b_none">'+t._htmlSelect(B_User._information.jobArr)+"</ul></div></div>",o+="</dd></dl>",o+='<dl><dt>公司产品：</dt><dd><input type="text" name="user_product" placeholder="请输入贵公司开发或运营的游戏" maxlength="150" value="'+n.project_names+'"></dd></dl>',o+='<dl><dt>&nbsp;</dt><dd style="margin-left: 120px; margin-top: 20px"><button type="button" class="btn btn-info blue-button">提交申请</button></dd></dl>',$("#open_s").html('<div id="bs_open_main">'+o+"</div>"),M_Inside._dropShow(),M_Inside._dropLeave(),M_Inside._dropSelected(),$(".blue-button").click(function(){t._doApp()})},_doApp:function(){var n=$.trim($('input[name="user_name"]').val()),e=$.trim($('input[name="user_company"]').val()),o=$.trim($('input[name="user_email"]').val()),a=$.trim($('input[name="user_phone"]').val()),i=$.trim($('input[name="user_product"]').val()),p=$("#bs_company_type p span").attr("data-i"),_=$("#bs_job_type p span").attr("data-i");if(""==e)return B_Pop._init("msg",{content:"公司名称必须填写"}),!1;if(""==p)return B_Pop._init("msg",{content:"公司类型必须选择"}),!1;if(""==n)return B_Pop._init("msg",{content:"联系人必须填写"}),!1;if(""==a)return B_Pop._init("msg",{content:"手机号码必须填写"}),!1;if(!B_Common._isMobile(a))return B_Pop._init("msg",{content:"手机号格式错误"}),!1;if(""==o)return B_Pop._init("msg",{content:"公司邮箱必须填写"}),!1;if(!B_Common._isMail(o))return B_Pop._init("msg",{content:"公司邮箱式错误"}),!1;if(""==_)return B_Pop._init("msg",{content:"公司职位必须选择"}),!1;var r=$(".blue-button"),d={};d.user_company=e,d.company_type=p,d.user_name=n,d.user_phone=a,d.email=o,d.job_type=_,d.project_names=i,d=B_Common._postData(d),B_Port._ajax("operationApply","post",!0,d,function(){B_Common._btnTextStatus("disable",r,{disable:"提交中.."}),B_Common._btnTextStatus("disable",$(".gray-button"),{disable:"取消申请"})},function(){B_Common._btnTextStatus("normal",r,{normal:"提交申请"}),B_Common._btnTextStatus("normal",$(".gray-button"),{normal:"取消申请"})},function(n,e){t._htmlOk()},function(t,n,e){B_Pop._init("msg",{content:n})})},_htmlSelect:function(t){for(var n="",e=0;e<t.length;e++)n+='<li><a data-i="'+e+'">'+t[e]+"</a></li>";return n}};t._htmlInit()})});