var F_Player_Entrance={_init:function(a){if(B_Login._checkUpdate(),M_HeadFoot._headShow(4),"demo"!=M_Init._controller&&B_User._isDemoUser())B_Login._openLogin("background");else{M_Init._clean(),M_Init._operateFrom&&"helper"==M_Init._operateFrom?M_Init._operateFrom="":M_Init._operateCondition={};var t="",e="";switch(a&&(a=B_Common._decodeUrl(a),t=a.split("|"),4==t.length&&(e=t[0],M_Init._dataCache.condition_type=t[1],M_Init._dataCache.condition_style=t[2],M_Init._dataCache.condition_reason=t[3])),M_Init._controller){case"demo":M_Init._api.playerGroupTag="demoPlayerGroupTag",M_Init._api.playerGroupSearch="demoPlayerGroupSearch",M_Init._api.innerSearchMeta="demoInnerSearchMeta",M_Init._api.playerData="demoPlayerData",M_Init._api.searchExcel="demoSearchExcel";break;default:M_Init._api.playerGroupTag="playerGroupTag",M_Init._api.playerGroupSearch="playerGroupSearch",M_Init._api.innerSearchMeta="innerSearchMeta",M_Init._api.playerData="playerData",M_Init._api.searchExcel="searchExcel"}M_Operate._searchPop(),M_Common._getOrderGame("player",e,"8-2"),$("#bs_btn_main_search").click(function(){M_Operate._btnSearch("player")})}}},F_Player_Info={_cache:{},_conditionBase:function(){var a={};if(M_Init._dataCache.condition_type&&M_Init._dataCache.condition_style&&M_Init._dataCache.condition_reason)switch(M_Init._dataCache.condition_type){case"paid":a.s_pay_style=M_Init._dataCache.condition_style,a.s_pay_reason=M_Init._dataCache.condition_reason;break;case"lost":a.s_lost_style=M_Init._dataCache.condition_style,a.s_lost_reason=M_Init._dataCache.condition_reason}return B_Common._postData(a)},_getCharacterTag:function(){var a=F_Player_Info._conditionBase(),t={};t.game_id=M_Init._gameId,t.group=M_Init._dataCache.tabName,t=B_Common._postData(t),a&&(t+="&"+a);var e=""==$("#bs_main_content").html();B_Port._ajax(M_Init._api.playerGroupTag,"get",!0,t,function(){e?B_Pop._init("load",{type:1,time:60,shade:[.6,"#000000"]}):($("#bs_character_tab").html(""),$("#bs_chart_character").html(B_Pre._loading()))},function(){e?B_Pop._init("close"):$("#bs_chart_character").html("")},function(a,t){if(a&&a.length>0){M_Init._dataCache.characterData=a;for(var e=0;e<a.length;e++)if(0==e){$.each(a[e],function(a,t){M_Init._dataCache.characterKey=a,M_Init._dataCache.characterName=t});break}F_Player_Info._getCharacterDetail()}else F_Player_Info._htmlEmpty()},function(a,t,i){e?$("#bs_main_content").html(B_Pre._empty(t)):$("#bs_chart_character").html(B_Pre._empty(t))})},_getCharacterDetail:function(){var a=F_Player_Info._conditionBase(),t={};t.game_id=M_Init._gameId,t.group=M_Init._dataCache.tabName,t.column_name=M_Init._dataCache.characterKey,t=B_Common._postData(t),""!=a&&(t=t+"&"+a);var e="",i=M_Operate._getSearchTag("character");e=""!=i?t+"&"+i:t;var _=""==$("#bs_main_content").html();B_Port._ajax(M_Init._api.playerGroupSearch,"get",!0,e,function(){_||$("#bs_chart_character").html(B_Pre._loading())},function(){_||$("#bs_chart_character").html("")},function(a,t){if(a&&a.x_axis&&a.x_axis.length>0){""==$("#bs_main_content").html()&&(F_Player_Info._htmlInit(),M_Operate._formatTag($("#bs_content_tag"),M_Init._dataCache.tagsData),M_Operate._download()),""==$("#bs_character_tab").html()&&F_Player_Info._htmlCharacter(),""!=$.trim($('input[name="k"]').val())?$("#bs_aim_player").hide():$("#bs_aim_player").show();var e={x_axis:a.x_axis,y_axis:[{name:"",data:a.y_axis}],yFormat:"人",tooltip:{num:1,unit:"人"}};M_Inside_Chart._chartData(40,"bs_chart_character",e)}else F_Player_Info._htmlEmpty()},function(a,t,e){_?$("#bs_main_content").html(B_Pre._empty(t)):$("#bs_chart_character").html(B_Pre._empty(t))})},_htmlCharacter:function(){for(var a="",t=M_Init._dataCache.tagsData[0].groupTitle,e="",i=0;i<t.length;i++)if(""!=t[i]){switch(t[i]){case"能力评估":e="change-color-icon1";break;case"活跃度":e="change-color-icon2";break;case"消费":e="change-color-icon3";break;case"玩法偏好":e="change-color-icon4";break;case"社交属性":e="change-color-icon5";break;default:e="change-color-icon1"}a+="<li",t[i]==M_Init._dataCache.tabName&&(a+=' class="selected"'),a+=' data-i="'+t[i]+'"><i class="tg-icon '+e+'"></i><p>'+t[i]+"</p></li>"}$(".vertical-tab-change").html(a),$(".vertical-tab-change li").each(function(){$(this).click(function(){$(this).hasClass("selected")||($(this).addClass("selected").siblings().removeClass("selected"),M_Init._dataCache.tabName=$(this).attr("data-i"),F_Player_Info._getCharacterTag())})});for(var a="<b>特征分布</b>",t=M_Init._dataCache.characterData,i=0;i<t.length;i++)$.each(t[i],function(t,e){a+="<span",t==M_Init._dataCache.characterKey&&(a+=' class="selected"'),a+=' data-i="'+t+'">'+e+"</span>"});$("#bs_character_tab").html(a),$("#bs_character_tab span").each(function(){$(this).click(function(){$(this).hasClass("selected")||($(this).addClass("selected").siblings().removeClass("selected"),M_Init._dataCache.characterKey=$(this).attr("data-i"),M_Init._dataCache.characterName=$(this).html(),F_Player_Info._getCharacterDetail())})})},_htmlEmpty:function(){var a="";a+='<div class="b_empty">                        <div class="des">                        <img src="elements2.0/img/empty.png" alt="">                        <span>没有符合条件的玩家</span>                        <p>没有符合所设置条件的玩家，请确认设置内容或调整自定义的筛选条件</p>                    </div>                </div>',$("#bs_main_content").html(a)},_htmlInit:function(){var a="";a+='<div class="blockpart col-lg-12 col-md-12 col-sm-12 col-xs-12" id="bs_aim_player">                    <h3>目标玩家特征</h3>                    <div class="boxshadow target-player-feature">                        <div class="wrap">                            <div class="fl"><ul class="vertical-tab-change"></ul></div>                            <div class="graph-wrap">                                <div class="tg-top-word-tab" id="bs_character_tab"></div>                                <div class="graph-part" id="bs_chart_character" style="height: 450px; width: 100%;"></div>                            </div>                        </div>                    </div>                </div>',a+='<div class="blockpart  tg-table-layout col-lg-12 col-md-12 col-sm-12 col-xs-12  ">                    <h3>玩家属性表</h3>                    <div class="boxshadow tg-table-content ">                        <div class="tg-top-word-tab" id="bs_content_tag"></div>                        <div class="tg-table-wrap tg-table-no-padding" id="bs_content_list">                            <div class="table-out-wrap no-margin-top">                                <table class="tg-table table table-bordered">                                <thead class="boxshadow"></thead><tbody></tbody></table>                            </div>                            <ul class="tg-page-list" id="lt_forum_page"></ul>                        </div>                        <div class="boxshadow tg-table-operation">                            <ul class="fr">                                <li><b>下载数据</b><i class="tg-icon tg-download" id="bs_btn_down"></i></li>                            </ul>                        </div>                     </div>                  </div>',$("#bs_main_content").html(a)},_htmlBase:function(){var a="";a+='<div class="tg-header-slider" style="display: none">                    <div class="control slider-pre">                        <span>符合自定义玩家特征</span>                        <i id="bs_scroll_btn_left"><b class="left-triangle"></b></i>                    </div>                    <div class="slider-content" id="bs_scroll_all">                        <div class="slider-wrap" id="bs_scroll_main">                            <div id="bs_condition_list" style="position: absolute">                                <ul id="bs_scroll_content_1"></ul>                            </div>                        </div>                    </div>                    <div class="control slider-next">                        <i id="bs_scroll_btn_right"><b class="right-triangle"></b></i>                        <span>的玩家共有“<b class="text-blue" id="bs_number"></b>”人</span>                    </div>                </div>',a+='<div id="bs_main_content"></div>',$("#ct_main_area").html(a)},_getInfo:function(){F_Player_Info._htmlBase(),M_Operate._getTag("player")}};