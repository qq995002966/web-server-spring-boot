var F_GameTieba_Entrance={_init:function(t){if(B_Login._checkUpdate(),M_HeadFoot._headShow(2),M_Dom._menuList("游戏详情","7-9"),B_User._isDemoUser())B_Login._openLogin("background");else{M_Init._clean();var a=B_Common._getUrl("query");a.g?(M_Init._gameDetailId=a.g,B_Game._setLast(M_Init._gameDetailId,"outsideGameDetail")):t?(M_Init._gameDetailId=t,B_Game._setLast(M_Init._gameDetailId,"outsideGameDetail")):M_Init._gameDetailId||(M_Init._gameDetailId=M_Init._getGameId("outsideGameDetail"));var e=B_Storage._get("gameFaceCompareRight");M_Init._gameIdRight=e?e+""=="0"?"":e:"",$("#headerTop").html('<span class="fl hotword">对照群体</span><div class="tg-search-drop" id="gameDropChooseRight"></div>'),B_Game._dropChoose(M_Init._gameIdRight,"#gameDropChooseRight","reset",function(t){t+""!=M_Init._gameIdRight+""&&(B_Game._setLast(t,"gameFaceCompareRight"),t&&t+""=="0"&&(t="",M_Init._dateCache.projectRightData=null),M_Init._gameIdRight=t,F_GameTieba_Info._getInfo("right"))}),M_Game._checkGameVisitList("gameTieba")}}},F_GameTieba_Info={_empty:function(t){t=t||"暂无数据",$("#ct_main_area").html('<div class="b_empty">'+t+"</div>")},_formatMapData:function(){var t={color:["#3eaae2","#2bd184"],y_axis:[],legendNotShow:!0};if(M_Init._dateCache.projectRightData){var a=M_Init._dateCache.projectLeftData.province_distri,e=M_Init._dateCache.projectRightData.province_distri,i=M_Init._dateCache.projectLeftData.province_distri_percent,s=M_Init._dateCache.projectRightData.province_distri_percent;t.y_axis.push({name:"贴吧用户",data:[]},{name:"对比贴吧用户",data:[]});for(var n=0;n<a.length;n++)$.each(a[n],function(a,e){t.y_axis[0].data.push({name:a,value:i[a]/100})});for(var n=0;n<e.length;n++)$.each(e[n],function(a,e){t.y_axis[1].data.push({name:a,value:s[a]/100})})}else{var l=M_Init._dateCache.projectLeftData.province_distri,r=M_Init._dateCache.projectLeftData.province_distri_percent;t.y_axis.push({name:"贴吧用户",data:[]});for(var n=0;n<l.length;n++)$.each(l[n],function(a,e){t.y_axis[0].data.push({name:a,value:r[a]/100})})}M_Outside_Chart._chartData("map","bs_map_chart",t)},_htmlMap:function(){var t="";t+='           <div class="ht-table-signs">'+M_Init._dateCache.iconStr+'</div>           <div id="bs_map_chart" style="width: 98%; height: 100%"></div>',$("#bs_map_area").html(t),F_GameTieba_Info._formatMapData(),t="",t+='            <div class="ht-table-signs">                <div class="fr">                    <span>一二三线城市比例</span>                    <div class="switch-btn"><input type="checkbox" name="checkbox_country"  /></div>                </div>            </div>            <div id="bs_city_list"></div>',$("#bs_map_list").html(t),F_GameTieba_Info._htmlDataCity(),$('input[name="checkbox_country"]').bootstrapSwitch("size","small"),$('input[name="checkbox_country"]').on("switchChange.bootstrapSwitch",function(t,a){a?F_GameTieba_Info._htmlDataLevel():F_GameTieba_Info._htmlDataCity()})},_htmlDataCity:function(){var t="";M_Init._dateCache.projectRightData?(t+='<div class="bs_scroll_map">',t+="<ul>",t+=F_GameTieba_Info._formatDataArea("left"),t+="</ul>",t+="</div>",t+='<div class="bs_scroll_map">',t+='<ul class="green">',t+=F_GameTieba_Info._formatDataArea("right"),t+="</ul>",t+="</div>"):(t+='<div class="ht-full-width bs_scroll_map">',t+="<ul>",t+=F_GameTieba_Info._formatDataArea("left"),t+="</ul>",t+="</div>"),$("#bs_city_list").removeClass("ht-lr-rate-list ht-rate-list-wrap").addClass("ht-lr-rate-list").html(t),$("#bs_city_list .bs_scroll_map").perfectScrollbar()},_formatDataArea:function(t){var a=null,e=null,i="";switch(t){case"left":a=M_Init._dateCache.projectLeftData;break;case"right":a=M_Init._dateCache.projectRightData}if(a&&a.province_distri&&a.province_distri.length>0){e=a.province_distri_percent,a=a.province_distri;for(var s=0;s<a.length;s++)$.each(a[s],function(t,a){i+='<li><span title="'+t+'">'+t+'</span><div class="ht-rate-wrap" title="排名：'+(s+1)+"　占比："+e[t]+'%"><span style="width: '+e[t]+'%"></span></div></li>'})}return i},_formatDataLevel:function(t){var a=null,e=null,i=null,s=null,n="";switch(t){case"left":a=M_Init._dateCache.projectLeftData;break;case"all":a=M_Init._dateCache.projectLeftData,e=M_Init._dateCache.projectRightData}if(a&&a.city_level_distri&&a.city_level_distri.length>0){if(i=a.city_level_distri_percent,a=a.city_level_distri,e){var l={};s=e.city_level_distri_percent,e=e.city_level_distri;for(var r=0;r<e.length;r++)$.each(e[r],function(t,a){l[t]=a});e=l}for(var c=0,o=0,r=0;r<a.length;r++)$.each(a[r],function(a,l){l=(100*l).toFixed(2),"all"==t?(c=s&&s[a]?s[a]:0,o=e&&e[a]?e[a]:0,n+='                        <div class="des-top"><span>'+a+'</span></div>                        <ul class="ht-rate">                            <li class="fl">                                <div class="ht-rate-wrap ht-big-height" title="占比'+i[a]+'%">                                    <span class="ht-blue-bg" style="width:'+i[a]+'%"></span>                                </div>                            </li>                            <li class="fr">                                <div class="ht-rate-wrap ht-big-height" title="占比'+c+'%">                                    <span class="ht-green-bg" style="width:'+c+'%"></span>                                </div>                            </li>                        </ul>'):n+='                        <ul class="ht-full-width">                            <li><p>'+a+'</p></li>                            <li class="ht-rate-wrap ht-big-height" title="占比'+i[a]+'%">                                <span class="ht-blue-bg" style="width:'+i[a]+'%"></span>                            </li>                        </ul>'})}$("#bs_city_list").removeClass("ht-lr-rate-list ht-rate-list-wrap").addClass("ht-rate-list-wrap").html(n)},_htmlDataLevel:function(){M_Init._dateCache.projectRightData?F_GameTieba_Info._formatDataLevel("all"):F_GameTieba_Info._formatDataLevel("left")},_htmlGender:function(){var t="",a="",e="",i="",s="",n='<div class="ht-table-signs">'+M_Init._dateCache.iconStr+"</div>",l=["男","女"];if(M_Init._dateCache.projectRightData){for(var r=M_Init._dateCache.projectLeftData.sex_distri,c=M_Init._dateCache.projectRightData.sex_distri,o={},_={},d=0,h=0,p=0;p<c.length;p++)$.each(c[p],function(t,a){o[t]=a,d+=parseInt(a)});for(var p=0;p<r.length;p++)$.each(r[p],function(t,a){_[t]=a,h+=parseInt(a)});c=o,r=_;for(var v=0,m=0,p=0;p<l.length;p++)0!=h&&(m=r&&r[l[p]]?(parseFloat(r[l[p]])/h*100).toFixed(1):0),0!=d&&(v=c&&c[l[p]]?(parseFloat(c[l[p]])/d*100).toFixed(1):0),"男"==l[p]?(e='<ul class="ht-rate ht-border-bottom">',i="man-icon"):(e='<ul class="ht-rate">',i="woman-icon"),e+='                        <li class="fl">                            <div class="top"><i class="'+i+'"></i><p class="ht-blue-text">'+m+"%</p><span>"+l[p]+'性用户占比</span></div>                            <div class="ht-rate-wrap ht-big-height">                                <span class="ht-blue-bg" style="width: '+m+'%"></span>                            </div>                        </li>                        <li class="fr">                            <div class="top"><i class="green-'+i+'"></i><p class="ht-green-text">'+v+"%</p><span>"+l[p]+'性用户占比</span></div>                            <div class="ht-rate-wrap ht-big-height">                                <span class="ht-green-bg" style="width: '+v+'%"></span>                            </div>                        </li>',e+="</ul>","男"==l[p]?a=e:t=e}else{for(var b={},f=M_Init._dateCache.projectLeftData.sex_distri,g=0,p=0;p<f.length;p++)$.each(f[p],function(t,a){g+=parseInt(a),b[t]=a});f=b;for(var u=0,p=0;p<l.length;p++)0!=g&&(u=(parseFloat(f[l[p]])/g*100).toFixed(1)),"男"==l[p]?(e='<ul class="ht-rate ht-border-bottom">',s="ht-blue-bg",i="man-icon"):(e='<ul class="ht-rate">',s="ht-green-bg",i="green-woman-icon"),e+='                        <li class="fl ht-full-width">                            <div class="top">                                <i class="'+i+'"></i>                                <p class="ht-blue-text">'+u+"%</p>                                <span>"+l[p]+'性用户占比</span>                            </div>                            <div class="ht-rate-wrap ht-big-height">                                <span class="'+s+' fl" style="width: '+u+'%"></span>                            </div>                        </li>',e+="</ul>","男"==l[p]?a=e:t=e}$("#bs_gender_area").html(n+a+t)},_htmlDataItem:function(){var t="";M_Init._dateCache.itemHidden||(M_Init._dateCache.itemHidden={});var a=M_Init._dateCache.itemHidden;if(M_Init._dateCache.projectRightData){var e=M_Init._dateCache.projectLeftData.interest_distri,i=M_Init._dateCache.projectRightData.interest_distri,s=0,n=0,l={};if(i&&i.length>0){for(var r=0;r<i.length;r++)$.each(i[r],function(t,e){a[t]||(n+=parseInt(e)),l[t]=e});i=l}for(var r=0;r<e.length;r++)$.each(e[r],function(t,e){a[t]||(s+=parseInt(e))});for(var c=0,o=0,_="",r=0;r<e.length;r++)$.each(e[r],function(e,l){a[e]?(_='<button class="tg-assist-btn" data-t="'+e+'">取消隐藏</button>',c=0,o=0):(0!=s&&(c=(parseFloat(l)/s*100).toFixed(1)),0!=n&&(o=i[e]?(parseFloat(i[e])/n*100).toFixed(1):0),_='<button class="tg-assist-btn" data-t="'+e+'">隐藏该类</button>'),t+="                        <ul>                            <li><span>"+e+'</span></li>                            <li class="rate-list">                                <div class="ht-rate-wrap fl" title="占比：'+c+'%">                                    <span class="ht-blue-bg fr" style="width: '+c+'%"></span>                                </div>                                <div class="ht-rate-wrap fr" title="占比：'+o+'%">                                    <span class="ht-green-bg fl" style="width: '+o+'%"></span>                                </div>                            </li>'+_+"                        </ul>"})}else{for(var d=M_Init._dateCache.projectLeftData.interest_distri,h=0,r=0;r<d.length;r++)$.each(d[r],function(t,e){a[t]||(h+=parseInt(e))});for(var p=0,_="",r=0;r<d.length;r++)$.each(d[r],function(e,i){a[e]?(_='<button class="tg-assist-btn" data-t="'+e+'">取消隐藏</button>',p=0):(0!=h&&(p=(parseFloat(i)/h*100).toFixed(1)),_='<button class="tg-assist-btn" data-t="'+e+'">隐藏该类</button>'),t+="                        <ul>                            <li><p>"+e+'</p></li>                            <li class="rate-list">                                <div class="ht-rate-wrap fl ht-full-width" title="占比：'+p+'%">                                    <span class="ht-blue-bg" style="width: '+p+'%"></span>                                </div>                            </li>'+_+"                        </ul>"})}$("#bs_item_list").html(t),$("#bs_item_list button").each(function(){$(this).click(function(){var t=$(this).text(),a=$(this).attr("data-t");M_Init._dateCache.itemHidden||(M_Init._dateCache.itemHidden={}),M_Init._dateCache.itemHidden[a]="隐藏该类"==t||null,F_GameTieba_Info._htmlDataItem()})})},_htmlItem:function(){var t='<div class="ht-table-signs ht-border-bottom">'+M_Init._dateCache.iconStr+"</div>";t+='<div class="ht-focus-list-rate" id="bs_item_list"></div>',$("#bs_item").html(t),F_GameTieba_Info._htmlDataItem()},_htmlRank:function(){var t="";if($("#bs_rank_icon").html(M_Init._dateCache.iconStr),M_Init._dateCache.rankClassifyChoosed||(M_Init._dateCache.rankClassifyChoosed="attention_global_distri"),M_Init._dateCache.projectRightData){for(var a=M_Init._dateCache.projectLeftData[M_Init._dateCache.rankClassifyChoosed],e=0,i=0,s=0;s<a.length;s++)$.each(a[s],function(t,a){e+=parseInt(a)});t+='<div class="bs_scroll_rank">',t+="<ul>";for(var s=0;s<a.length;s++)$.each(a[s],function(a,n){0!=e&&(i=(parseFloat(n)/e*100).toFixed(1)),t+='<li><span title="'+a+'">'+M_Common._sourceUrl("tieba",a)+'</span><div class="ht-rate-wrap" title="排名：'+(s+1)+"　占比："+i+'%"><span style="width: '+i+'%"></span></div></li>'});t+="</ul>",t+="</div>",a=M_Init._dateCache.projectRightData[M_Init._dateCache.rankClassifyChoosed],e=0,i=0;for(var s=0;s<a.length;s++)$.each(a[s],function(t,a){e+=parseInt(a)});t+='<div class="bs_scroll_rank">',t+='<ul class="green">';for(var s=0;s<a.length;s++)$.each(a[s],function(a,n){0!=e&&(i=(parseFloat(n)/e*100).toFixed(1)),t+='<li><span title="'+a+'">'+M_Common._sourceUrl("tieba",a)+'</span><div class="ht-rate-wrap" title="排名：'+(s+1)+"　占比："+i+'%"><span style="width: '+i+'%"></span></div></li>'});t+="</ul>",t+="</div>"}else{for(var a=M_Init._dateCache.projectLeftData[M_Init._dateCache.rankClassifyChoosed],e=0,i=0,s=0;s<a.length;s++)$.each(a[s],function(t,a){e+=parseInt(a)});t+='<div class="ht-full-width bs_scroll_rank">',t+="<ul>";for(var s=0;s<a.length;s++)$.each(a[s],function(a,n){0!=e&&(i=(parseFloat(n)/e*100).toFixed(1)),t+='<li><span title="'+a+'">'+M_Common._sourceUrl("tieba",a)+'</span><div class="ht-rate-wrap" title="排名：'+(s+1)+"　占比："+i+'%"><span style="width: '+i+'%"></span></div></li>'});t+="</ul>",t+="</div>"}$("#bs_rank").html(t),$("#bs_rank .bs_scroll_rank").perfectScrollbar()},_htmlKeyword:function(){var t='<div class="ht-table-signs ht-border-bottom">'+M_Init._dateCache.iconStr+"</div>";if(t+='<div class="ht-lr-rate-list">',M_Init._dateCache.projectRightData){for(var a=M_Init._dateCache.projectLeftData.keywords_distri,e=0,i=0,s=0;s<a.length;s++)$.each(a[s],function(t,a){e+=parseInt(a)});t+='<div class="bs_scroll_keyword">',t+="<ul>";for(var s=0;s<a.length;s++)$.each(a[s],function(a,n){0!=e&&(i=(parseFloat(n)/e*100).toFixed(1)),t+='<li><span title="'+a+'">'+a+'</span><div class="ht-rate-wrap" title="排名：'+(s+1)+"　占比："+i+'%"><span style="width: '+i+'%"></span></div></li>'});t+="</ul>",t+="</div>",a=M_Init._dateCache.projectRightData.keywords_distri,e=0,i=0;for(var s=0;s<a.length;s++)$.each(a[s],function(t,a){e+=parseInt(a)});t+='<div class="bs_scroll_keyword">',t+='<ul class="green">';for(var s=0;s<a.length;s++)$.each(a[s],function(a,n){0!=e&&(i=(parseFloat(n)/e*100).toFixed(1)),t+='<li><span title="'+a+'">'+a+'</span><div class="ht-rate-wrap" title="排名：'+(s+1)+"　占比："+i+'%"><span style="width: '+i+'%"></span></div></li>'});t+="</ul>",t+="</div>"}else{for(var a=M_Init._dateCache.projectLeftData.keywords_distri,e=0,i=0,s=0;s<a.length;s++)$.each(a[s],function(t,a){e+=parseInt(a)});t+='<div class="ht-full-width bs_scroll_keyword">',t+="<ul>";for(var s=0;s<a.length;s++)$.each(a[s],function(a,n){0!=e&&(i=(parseFloat(n)/e*100).toFixed(1)),t+='<li><span title="'+a+'">'+a+'</span><div class="ht-rate-wrap" title="排名：'+(s+1)+"　占比："+i+'%"><span style="width: '+i+'%"></span></div></li>'});t+="</ul>",t+="</div>"}t+="</div>",$("#bs_keyword").html(t),$("#bs_keyword .bs_scroll_keyword").perfectScrollbar()},_formatDevice:function(t,a){var e="";if(M_Init._dateCache.projectRightData){for(var i={},s=0,n=0,l=0;l<a.length;l++)$.each(a[l],function(t,a){n+=parseInt(a),i[t]=a});a=i;for(var l=0;l<t.length;l++)$.each(t[l],function(t,a){s+=parseInt(a)});for(var r=0,c=0,l=0;l<t.length;l++)$.each(t[l],function(t,i){0!=s&&(r=(parseFloat(i)/s*100).toFixed(1)),0!=n&&(c=a[t]?(parseFloat(a[t])/n*100).toFixed(1):0),e+='                        <div class="des-top"><img src="'+M_Outside._iconDevice(t)+'"><span>'+t+'用户</span></div>                        <ul class="ht-rate">                            <li class="fl">                                <div class="ht-rate-wrap ht-big-height" title="占比：'+r+'%">                                    <span class="ht-blue-bg" style="width: '+r+'%"></span>                                </div>                            </li>                            <li class="fr">                                <div class="ht-rate-wrap ht-big-height" title="占比：'+c+'%">                                    <span class="ht-green-bg" style="width: '+c+'%"></span>                                </div>                            </li>                        </ul>'})}else{for(var o=0,l=0;l<t.length;l++)$.each(t[l],function(t,a){o+=parseInt(a)});for(var _=0,d="",l=0;l<t.length;l++)d=0==l?"ht-blue-bg":"ht-green-bg",$.each(t[l],function(t,a){0!=o&&(_=(parseFloat(a)/o*100).toFixed(1)),e+='                        <div class="des-top"><img src="'+M_Outside._iconDevice(t)+'"><span>'+t+'用户</span></div>                        <ul class="ht-rate">                            <li class="fl ht-full-width">                                <div class="ht-rate-wrap ht-big-height" title="占比：'+_+'%">                                    <span class="'+d+'" style="width: '+_+'%"></span>                                </div>                            </li>                        </ul>'})}return e},_htmlDevice:function(){var t="";M_Init._dateCache.projectRightData?(t='<div class="ht-rate-list-wrap">',t+='<div class="ht-table-signs ht-border-bottom">'+M_Init._dateCache.iconStr+"</div>",t+=F_GameTieba_Info._formatDevice(M_Init._dateCache.projectLeftData.client_distri,M_Init._dateCache.projectRightData.client_distri),t+='</div><div class="ht-rate-list-wrap">',t+=F_GameTieba_Info._formatDevice(M_Init._dateCache.projectLeftData.mobile_platform_distri,M_Init._dateCache.projectRightData.mobile_platform_distri)):(t='<div class="ht-rate-list-wrap ht-single-rate">',t+='<div class="ht-table-signs ht-border-bottom">'+M_Init._dateCache.iconStr+"</div>",t+=F_GameTieba_Info._formatDevice(M_Init._dateCache.projectLeftData.client_distri),t+='</div><div class="ht-rate-list-wrap ht-single-rate">',t+=F_GameTieba_Info._formatDevice(M_Init._dateCache.projectLeftData.mobile_platform_distri)),t+="</div>",$("#bs_device").html(t)},_formatHour:function(){var t={color:["#3eaae2","#2bd184"],x_axis:[],y_axis:[],yFormat:"%",legendNotShow:!0,tooltip:{num:1,unit:"%"}};if(M_Init._dateCache.projectRightData){t.tooltip.num=2,t.y_axis.push({name:"贴吧用户",data:[]}),t.y_axis.push({name:"对比贴吧用户",data:[]});for(var a=M_Init._dateCache.projectLeftData.post_hour_distri,e=M_Init._dateCache.projectRightData.post_hour_distri,i={},s=0;s<e.length;s++)$.each(e[s],function(t,a){i[t]=(100*a).toFixed(1)});e=i;for(var n=0,s=0;s<a.length;s++)$.each(a[s],function(a,i){n=e[a]?parseFloat(e[a]):0,t.x_axis.push(a),t.y_axis[0].data.push((100*i).toFixed(1)),t.y_axis[1].data.push(n)})}else{t.y_axis.push({name:"贴吧用户",data:[]});for(var l=M_Init._dateCache.projectLeftData.post_hour_distri,s=0;s<l.length;s++)$.each(l[s],function(a,e){t.x_axis.push(a),t.y_axis[0].data.push((100*e).toFixed(1))})}M_Outside_Chart._chartData("line","bs_hour_chart",t)},_htmlHour:function(){var t='<div class="ht-table-signs ht-border-bottom">'+M_Init._dateCache.iconStr+"</div>";t+='<div class="graph-part cursor-default"><div id="bs_hour_chart" style="width: 100%; height: 100%"></div></div>',$("#bs_hour").html(t),F_GameTieba_Info._formatHour()},_formatDistribute:function(t,a,e){var i={color:["#3eaae2","#2bd184"],x_axis:[],y_axis:[],legendNotShow:!0},s="";switch(t){case"percent":i.yFormat="%",i.tooltip={num:1,unit:"%"},s="bar";break;default:i.yFormat="",i.tooltip=null,s="bar"}if(M_Init._dateCache.projectRightData){i.y_axis.push({name:"贴吧用户",data:[]}),i.y_axis.push({name:"对比贴吧用户",data:[]});var n=[],l=[];switch(a){case"age":n=M_Init._dateCache.projectLeftData.age_distri,l=M_Init._dateCache.projectRightData.age_distri;break;case"fans":n=M_Init._dateCache.projectLeftData.fans_num_distri,l=M_Init._dateCache.projectRightData.fans_num_distri}switch(t){case"percent":i.tooltip.num=2,n=M_Common._percent("age",n),l=M_Common._percent("age",l)}for(var r={},c=0;c<l.length;c++)$.each(l[c],function(t,a){r[t]=parseFloat(a).toFixed(1)});l=r;for(var o=0,c=0;c<n.length;c++)$.each(n[c],function(t,a){o=l[t]?parseFloat(l[t]):0,i.x_axis.push(t),i.y_axis[0].data.push(parseFloat(a).toFixed(1)),i.y_axis[1].data.push(o)})}else{i.y_axis.push({name:"贴吧用户",data:[]});var _=[];switch(a){case"age":_=M_Init._dateCache.projectLeftData.age_distri;break;case"fans":_=M_Init._dateCache.projectLeftData.fans_num_distri}switch(t){case"percent":_=M_Common._percent("age",_)}for(var c=0;c<_.length;c++)$.each(_[c],function(t,a){i.x_axis.push(t),i.y_axis[0].data.push(parseFloat(a).toFixed(1))})}M_Outside_Chart._chartData(s,e,i)},_htmlDistribute:function(t){var a="",e="";switch(t){case"age":a="bs_distribute_chart",e=$("#bs_distribute");break;case"fans":a="bs_fans_chart",e=$("#bs_fans")}var i='<div class="ht-table-signs ht-border-bottom">'+M_Init._dateCache.iconStr;i+='<div class="fr">',i+="<span>按比例</span>",i+='<div class="switch-btn"><input type="checkbox" name="checkbox_'+t+'" data-i="'+t+'Percent" /></div>',i+="</div></div>",i+='<div class="graph-part cursor-default"><div id="'+a+'" style="width: 100%; height: 100%"></div></div>',e.html(i),F_GameTieba_Info._formatDistribute("number",t,a),$('input[name="checkbox_'+t+'"]').bootstrapSwitch("size","small"),$('input[name="checkbox_'+t+'"]').on("switchChange.bootstrapSwitch",function(t,a){switch($(this).attr("data-i")){case"agePercent":a?F_GameTieba_Info._formatDistribute("percent","age","bs_distribute_chart"):F_GameTieba_Info._formatDistribute("number","age","bs_distribute_chart");break;case"fansPercent":a?F_GameTieba_Info._formatDistribute("percent","fans","bs_fans_chart"):F_GameTieba_Info._formatDistribute("number","fans","bs_fans_chart")}})},_htmlSummary:function(){var t="",a="",e="";M_Init._gameDetailId&&(a=B_Game._getGame([M_Init._gameDetailId],1))&&a[M_Init._gameDetailId]&&(e=a[M_Init._gameDetailId][1]),t+='            <div class="blue-part">                <span>贴吧用户</span>                <div>                    <b class="ht-blue-bg"></b>                    <p title="'+e+'">'+e+"</p>                    <b>共 "+M_Init._dateCache.projectLeftData.user_num+"人</b>                </div>            </div>",M_Init._dateCache.projectRightData&&(e="",a=B_Game._getGame([M_Init._gameIdRight],1),a&&a[M_Init._gameIdRight]&&(e=a[M_Init._gameIdRight][1]),t+='                <div class="green-part">                    <span>对比贴吧用户</span>                    <div>                        <b class="ht-green-bg"></b>                        <p title="'+e+'">'+e+"</p>                        <b>共 "+M_Init._dateCache.projectRightData.user_num+"人</b>                    </div>                </div>"),$("#bs_summary").html(t)},_htmlInit:function(){var t="";t+='            <div class=" blockpart  col-lg-12 col-md-12 col-sm-12 col-xs-12">                <h3 class="tip-hover">用户概览                    <div class="tip-box-show">                            <i class="triangle-up"></i>                            <div class="tip-box-content">所选样本的具体贴吧数据来源及样本总量</div>                    </div>                </h3>                <div class="boxshadow ht-filter-list" id="bs_summary"></div>             </div>',t+='            <div class=" blockpart  col-lg-8 col-md-8 col-sm-12 col-xs-12">                <h3>地域分布</h3>                <div class="boxshadow ht-area-distribute ht-graph-wrapper">                    <div class="graph-part cursor-default" id="bs_map_area"></div>                    <div class="ht-city-list" id="bs_map_list"></div>                </div>            </div>',t+='            <div class=" blockpart col-lg-4 col-md-4 col-sm-12 col-xs-12">                <h3>男女比例</h3>                <div class="boxshadow ht-people-contrast ht-single-rate" id="bs_gender_area"></div>            </div>',t+='              <div class=" blockpart col-lg-4 col-md-4 col-sm-12 col-xs-12">                  <h3 class="tip-hover">关注类目比例分布                    <div class="tip-box-show">                            <i class="triangle-up"></i>                            <div class="tip-box-content">按照8大类目划分，用户对各大类的关注占比，也可隐藏指定类目</div>                    </div>                  </h3>                  <div class="boxshadow" id="bs_item"></div>              </div>';var a=[{key:"attention_global_distri",name:"全部类目"},{key:"attention_sports_distri",name:"体育"},{key:"attention_comic_distri",name:"动漫"},{key:"attention_movie_distri",name:"影视"},{key:"attention_literature_distri",name:"文学"},{key:"attention_tec_distri",name:"科技"},{key:"attention_star_distri",name:"追星"},{key:"attention_music_distri",name:"音乐"},{key:"attention_game_distri",name:"游戏"}];t+='            <div class=" blockpart  col-lg-4 col-md-4 col-sm-12 col-xs-12">                <h3 class="tip-hover">关注贴吧排名                    <div class="tip-box-show">                            <i class="triangle-up"></i>                            <div class="tip-box-content">按照8大类目划分，用户对各类的具体贴吧关注排名</div>                    </div>                </h3>                <div class="boxshadow">                    <div class="ht-table-signs ht-border-bottom">'+M_Outside._dropKVHtml("bs_rank_choose","贴吧类目",a)+'                        <div id="bs_rank_icon"></div>                    </div>                    <div class="ht-lr-rate-list" id="bs_rank"></div>                </div>            </div>',t+='            <div class=" blockpart col-lg-4 col-md-4 col-sm-12 col-xs-12">                <h3 class="tip-hover">关键词排名                    <div class="tip-box-show">                            <i class="triangle-up"></i>                            <div class="tip-box-content">样本用户的讨论中常用到的关键词</div>                    </div>                </h3>                <div class="boxshadow" id="bs_keyword"></div>            </div>',t+='            <div class=" blockpart  col-lg-4 col-md-4 col-sm-12 col-xs-12">                <h3 class="tip-hover">上网设备属性                    <div class="tip-box-show">                            <i class="triangle-up"></i>                            <div class="tip-box-content">样本用户中，主要的上网设备</div>                    </div>                </h3>                <div class="boxshadow ht-people-contrast" id="bs_device"></div>            </div>',t+='            <div class="blockpart col-lg-4 col-md-4 col-sm-12 col-xs-12">                <h3 class="tip-hover">活跃时间段分布                    <div class="tip-box-show">                            <i class="triangle-up"></i>                            <div class="tip-box-content">样本用户中，分小时的上网比例分布图</div>                    </div>                </h3>                <div class="boxshadow ht-graph-wrapper" id="bs_hour"></div>            </div>',t+='            <div class="blockpart col-lg-4 col-md-4 col-sm-12 col-xs-12">                <h3 class="tip-hover">吧龄分布                    <div class="tip-box-show">                            <i class="triangle-up"></i>                            <div class="tip-box-content">样本用户中，贴吧吧龄的分布情况</div>                    </div>                </h3>                <div class="boxshadow ht-graph-wrapper" id="bs_distribute"></div>            </div>',t+='            <div class="blockpart col-lg-4 col-md-4 col-sm-12 col-xs-12">                <h3 class="tip-hover">粉丝魅力分析                    <div class="tip-box-show">                            <i class="triangle-up"></i>                            <div class="tip-box-content">样本用户中，个人粉丝数的分布情况</div>                    </div>                </h3>                <div class="boxshadow ht-graph-wrapper" id="bs_fans"></div>            </div>',$("#ct_main_area").html(t)},_domInit:function(){$("#contentPart").addClass("ht-backstage").removeClass("insidelog-part"),F_GameTieba_Info._htmlInit(),M_Init._gameIdRight&&setTimeout(function(){F_GameTieba_Info._getInfo("right")},500),F_GameTieba_Info._getInfo("left"),M_Outside._dropShow(),M_Outside._dropLeave(),M_Outside._dropSelected(function(t){M_Init._dateCache.rankClassifyChoosed=t,F_GameTieba_Info._htmlRank()},"bs_rank_choose")},_getInfo:function(t){var a={};switch($(".b_empty").length>0&&F_GameTieba_Info._htmlInit(),t){case"left":if(!M_Init._gameDetailId)return F_GameTieba_Info._empty(),!1;a.project_id=M_Init._gameDetailId;break;case"right":if(!M_Init._gameIdRight)return F_GameTieba_Info._getData(),!1;a.project_id=M_Init._gameIdRight}a=B_Common._postData(a),B_Port._ajax("profileTiebaProject","get",!0,a,function(){B_Pop._init("load",{type:1,time:60,shade:[.6,"#000000"]})},function(){B_Pop._init("close")},function(a,e){switch(a.province_distri_percent=M_Common._formatPercent(a.province_distri),a.city_level_distri_percent=M_Common._formatPercent(a.city_level_distri),t){case"left":M_Init._dateCache.projectLeftData=a;break;case"right":M_Init._dateCache.projectRightData=a}F_GameTieba_Info._getData()},function(t,a,e){F_GameTieba_Info._empty(a)})},_getData:function(){var t=!1;M_Init._gameIdRight?M_Init._dateCache.projectRightData&&M_Init._dateCache.projectLeftData&&(t=!0):M_Init._dateCache.projectLeftData&&(t=!0),t&&(M_Init._gameIdRight?M_Init._dateCache.iconStr='<b class="ht-blue-bg"></b><span>贴吧用户</span> <b class="ht-green-bg"></b><span>对比贴吧用户</span>':M_Init._dateCache.iconStr='<b class="ht-blue-bg"></b><span>贴吧用户</span>',F_GameTieba_Info._htmlSummary(),F_GameTieba_Info._htmlMap(),F_GameTieba_Info._htmlGender(),F_GameTieba_Info._htmlItem(),F_GameTieba_Info._htmlRank(),F_GameTieba_Info._htmlKeyword(),F_GameTieba_Info._htmlDevice(),F_GameTieba_Info._htmlHour(),F_GameTieba_Info._htmlDistribute("age"),F_GameTieba_Info._htmlDistribute("fans"))}};